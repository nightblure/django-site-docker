# django-приложение в docker-контейнере

P.S. контейнер с сайтом запускается из собранного образа (собранного не заранее, а прямо во время развертывания из docker-compose)

## Описание файлов:
  - ```dump.sql``` - любой sql-скрипт. Он будет примонтирован к специальной директории (см. файл docker-compose), в которой автоматически запускаются .sql, .bash скрипты и т.д. В него можно скопировать содержимое дампа и дамп будет развернут
  - ```Dockerfile.yml``` - файл, на основе которого собирается докер-образ
  - ```docker-compose.yml``` - файл, предназначенный для развертывания контейнера с приложением из ранее созданного образа
  - ```./project/.env (далее .env)``` - файл со значениями переменных окружения

## Инструкция:
  1. Склонировать данный репозиторий
  2. Задать выбранное имя БД в файле .env (переменная DB_NAME) и docker-compose (переменная POSTGRES_DB)
  3. (Опционально) скопировать содержимое дампа БД в dump.sql. В этом случае миграции не нужны, т.к. в дампе будут лежать таблицы Django
  4. (Опционально) если нужно поменять имя контейнера PostgreSQL в docker-compose, то также нужно не забыть записать его в переменную HOST в .env
  5. Развернуть приложение из корневой папки (--build - принудительная пересборка образа и контейнера): ```docker-compose up --build -d```
  7. Приложение доступно [по адресу](http://localhost:8000/)


